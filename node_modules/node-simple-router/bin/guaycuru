#!/usr/bin/env node

// Generated by CoffeeScript 1.3.1
(function() {
  var Router, addr, argv, http, router, server;

  Router = require('../lib/router');

  http = require('http');

  router = Router({
      static_route: process.cwd()
    , served_by: "Guaycuru Static Server"
  });

  router.log("Working directory: " + router.static_route);

  server = http.createServer(router);

  argv = process.argv.slice(2);

  server.listen((argv[0] != null) && !isNaN(parseInt(argv[0])) ? parseInt(argv[0]) : 8000);

  addr = (server != null ? server.address() : void 0) || {
    address: '0.0.0.0',
    port: argv[0] || 8000
  };

  router.log("Serving web content at " + addr.address + ":" + addr.port);

}).call(this);
